<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary py-0 ">
        <div class="container-fluid bg-dark text-light">
            <a class="navbar-brand text-light" href="homepage.html">Home</a>
            <a class="navbar-brand text-light" href="backoffice.html">Backoffice</a>
        </div>
        </nav> 

<p></p>
        <div class="container mt-5 ">
            <div class="row d-flex justify-content-center">
                <div class="col-6 border border-bottom-0 border-dark" id="containerDetail"> 
                    <!-- <h6 class="mt-3">Product Detail</h6> 
                    <img src="" alt=""> 
                    <h3>Name</h3>
                    <p>Brand</p>
                    <h>Description</h5> 
                    <h6>Price</h6>
                    <p>Created At</p> -->
                    <button type="button" class="btn btn-success" onclick="handleEdit()">Success</button>
                </div>
            </div>
        </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
        <script> 

        const url = "https://striveschool-api.herokuapp.com/api/product/"
        //const eventId = new URLSearchParams(window.location.search).get("eventId");
        const eventId = new URLSearchParams(window.location.search).get("eventId")
        //console.log(eventId); 

        window.onload = async () => { 
            const resp = await fetch(url + eventId) 
            const eventObj = await resp.json() 
            //alert(eventObj.name);
            const {name, brand, description, price} = eventObj
            //the object destruction method transforms the elements into variables
            const container = document.getElementById("containerDetail"); 
            container.innerHTML = 
                    `  
                    <h3>${name}</h3>
                    <p>${brand}</p>
                    <h>${description}</h5> 
                    <h6>${price}</h6>
                    `   
            
            const handleEdit = () => {
                window.location.assign("backoffice.html?eventId=" + eventId)
            }
            
            
            
            /* fetch(url + eventId) 
            .then(res => resp.json())
            .then(({ id, imageUrl, name, brand, description, price, createdAt}) => {
		        // Destructure the user properties from the response
                const container = document.getElementById("containerdetail"); 

                container = `<h6 class="mt-3">${resp._id}</h6> 
                    <img src="${resp.imageUrl}" alt=""> 
                    <h3>${resp.name}</h3>
                    <p>${resp.brand}</p>
                    <h>${resp.description}</h5> 
                    <h6>${resp.price}</h6>
                    <p>${resp.createdAt}</p>
                    <p>${new Date(time).toLocaleString()}</p>
                    `
	})  */
        }
        </script>
</body>
</html>